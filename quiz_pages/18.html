<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Caminhada e Rastreador para Perda de Peso</title>

    <!-- STYLES -->
    <link rel="stylesheet" href="../styles/global.css">
    <link rel="stylesheet" href="../styles/components.css">
    <link rel="stylesheet" href="../styles/styles.css">
</head>
<style>
    #date {
        width: 100%;
    }

    @keyframes progress {
        0% {
            width: 49.0987%;
        }
        100% {
            width: 51.5898%;
        }
    }  

</style>
<body>
    <header id="header">
        <div class="progress-bar">
            <img src="../assets/back.430ab818.svg" id="prevPageBtn" class="btnBar">
            <div class="bar">
                <div class="barCheckpoints">
                    <div class="ball active"></div>
                    <div class="ball active"></div>
                    <div class="ball active"></div>
                    <div class="ball"></div>
                    <div class="ball"></div>
                </div>
                <div class="barLine">
                    <div class="progress"></div>
                </div>
            </div>
            <img src="../assets/next.01c3ad3f.svg" id="nextPageBtn" class="btnBar">
        </div>
    </header>
    <div class="app">
        <h1 class="title">Quando vocÃª quer ver resultados?</h1>
        <input 
            type="date"
            name="date" 
            class="inputNumber"
            id="date" 
        >
    </div>

    <div class="button-wrapper">
        <a href="19.html" id="nextPage" class="dateBtn">Continuar</a>
    </div>

    <script>
        function formatDate(date) {
            let parts = date.split('-');
            let formattedDate = new Date(parts[0], parts[1] - 1, parts[2]);
            let monthNames = ["Jan", "Fev", "Mar", "Abr", "Mai", "Jun", "Jul", "Ago", "Set", "Out", "Nov", "Dez"];
            let month = monthNames[formattedDate.getMonth()];
            let day = formattedDate.getDate();
    
            return month + ' ' + day;
        }
    
        function updateButtonState() {
            let dateBtn = document.querySelector('.dateBtn');
            let dateInput = document.querySelector('#date');
            
            if (dateInput.value.trim() !== '') {
                dateBtn.classList.remove('disabled');
                dateBtn.addEventListener('click', () => {
                    let formattedDate = formatDate(dateInput.value);
                    localStorage.setItem('dataResultados', formattedDate);
                });
            } else {
                dateBtn.classList.add('disabled');
            }
        }
    
        document.querySelector('#date').addEventListener('input', updateButtonState);

        updateButtonState();
    </script>
    

    <script src="../scripts/main.js"></script>
</body>
</html>